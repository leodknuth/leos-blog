# Leo's Hugo Blog - AI Maintenance Instructions

## ğŸ¯ PROJECT OVERVIEW
- **Hugo Blog**: Leo's technical blog hosted at https://rpai.work
- **Theme**: hugo-techie-personal (Git submodule from GitHub)
- **Languages**: Chinese (zh-cn) primary, English (en-us) secondary
- **Author**: Leo (GitHub: leodknuth)
- **Hugo Version**: v0.152.2+extended

## ğŸ“ PROJECT STRUCTURE

### Core Files You Must Maintain
```
leos-blog/
â”œâ”€â”€ ğŸ“„ hugo.toml                 # Main configuration (CRITICAL)
â”œâ”€â”€ ğŸ“‚ content/                 # All blog content (CRITICAL)
â”‚   â”œâ”€â”€ ğŸ“‚ posts/              # Blog articles
â”‚   â”œâ”€â”€ ğŸ“‚ projects/           # Portfolio projects
â”‚   â”œâ”€â”€ ğŸ“‚ gadget/             # Device reviews
â”‚   â”œâ”€â”€ ğŸ“‚ timeline/           # Chronological events
â”‚   â””â”€â”€ ğŸ“‚ about/             # Personal information
â”œâ”€â”€ ğŸ“‚ static/images/          # Static images (profile.jpg is CRITICAL)
â”œâ”€â”€ ğŸ“‚ assets/images/projects/ # Project-specific images
â””â”€â”€ ğŸ“‚ themes/                # Hugo theme (Git submodule, DON'T edit directly)
```

### Files NEVER Edit
```
â”œâ”€â”€ ğŸ“‚ public/     # Hugo-generated (DO NOT EDIT)
â”œâ”€â”€ ğŸ“‚ resources/ # Hugo cache (DO NOT EDIT)
â””â”€â”€ ğŸ“‚ .git/      # Git internals (DO NOT EDIT directly)
```

## ğŸ¨ THEME FEATURES TO UNDERSTAND

### Content Types & Patterns
1. **Posts** (content/posts/*.md): Blog articles with standard front matter
2. **Projects** (content/projects/*.md): Portfolio items with status tracking
3. **Gadgets** (content/gadget/*.md): Device reviews with status tracking
4. **Timeline** (content/timeline/YYYY-MM-DD-event.md): Chronological events
5. **About** (content/about/_index.md): Personal information page

### Status System (for Projects & Gadgets)
- âœ… **active**: Currently in use
- âœ… **discontinued**: No longer maintained
- âœ… **archived**: Older devices, kept for reference
- âœ… **planned**: Owned but not yet in use

### Front Matter Templates

#### Blog Post Template
```toml
+++
title = "Article Title"
date = YYYY-MM-DDTHH:mm:ss+08:00
draft = false  # Set to false to publish
type = "post"
description = "SEO description"
keywords = ["keyword1", "keyword2"]
tags = ["tag1", "tag2"]
author = "Leo"
+++

# Content here
```

#### Project Template
```toml
+++
title = "Project Title"
date = YYYY-MM-DDTHH:mm:ss+08:00
draft = false
type = "projects"
status = "active"  # active, discontinued, archived
description = "Project description"
focus = ["focus1", "focus2"]
github_url = "https://github.com/user/repo"
demo_url = "https://demo.url"
project_image = "/images/projects/project-name.svg"
+++

# Content here
```

#### Timeline Entry Template
```toml
+++
title = "Event Title"
date = YYYY-MM-DDTHH:mm:ss+08:00
draft = false
type = "activity"
activity_type = "award"  # award, blog, training, talk, ctf, etc.
description = "Event description"
organization = "Organization Name"
event_url = "https://event.url"
+++

# Content here
```

## ğŸ”§ ESSENTIAL COMMANDS

### Development & Testing
```bash
# Start development server (includes drafts)
hugo server --buildDrafts --bind=0.0.0.0 --port=1313

# Preview at: http://localhost:1313/zh/ (Chinese)
# Preview at: http://localhost:1313/en/ (English)

# Build for production
hugo --gc --minify
```

### Content Creation
```bash
# Create new blog post
hugo new posts/article-title.md

# Create new project
hugo new projects/project-name.md

# Create new gadget review
hugo new gadget/device-name.md

# Create timeline entry
hugo new timeline/YYYY-MM-DD-event-title.md
```

### Git Operations
```bash
# Add all changes
git add .

# Commit changes
git commit -m "Update: [description of changes]"

# Push to GitHub (triggers Cloudflare Pages deployment)
git push origin main
```

## ğŸ¯ KEY CONFIGURATION (hugo.toml)

### Critical Settings You May Need to Update
```toml
baseURL = "https://rpai.work"
title = "Leoçš„æŠ€æœ¯åšå®¢"
defaultContentLanguage = "zh"
defaultContentLanguageInSubdir = true

# Author profile
[params]
  author = "Leo"
  description = "Your blog description"
  profile_pic = "images/profile.jpg"  # IMPORTANT: Update if changing profile image

# Social links
[params.social_links]
  github_url = "https://github.com/leodknuth"
  # Add other social links as needed
```

### Language Configuration
- **Chinese**: /zh/ URL, Chinese menu labels
- **English**: /en/ URL, English menu labels
- Language switching automatically appears in navigation

## ğŸ–¼ï¸ IMAGE MANAGEMENT

### Profile Image
- **Location**: static/images/profile.jpg
- **Update**: Replace file with new image (same name)
- **Size**: Recommended 400x400px or square format

### Project Images
- **Location**: assets/images/projects/
- **Format**: SVG preferred, PNG/JPG acceptable
- **Reference**: Use in front matter with `project_image = "/images/projects/name.svg"`

### General Images
- **Location**: static/images/
- **Reference**: Use absolute paths like `/images/filename.jpg`
- **Formats**: JPG, PNG, SVG supported

## ğŸŒ MULTILINGUAL SUPPORT

### How It Works
- **Primary**: Chinese (zh-cn) - default language
- **Secondary**: English (en-us) - optional translations
- **URL Structure**: /zh/ for Chinese, /en/ for English
- **Language Switching**: Automatic button in navigation menu

### Content Creation
- Create content in content/ directory (Hugo automatically generates both language versions)
- Front matter can include language-specific fields
- Menu labels automatically translated based on configuration

## ğŸš¨ CRITICAL RULES

### âœ… ALWAYS DO
- Test changes locally with `hugo server` before deploying
- Use proper front matter format for each content type
- Set `draft = false` to publish content
- Commit changes with descriptive messages
- Verify both language versions work when making changes

### âŒ NEVER DO
- Edit files in public/ directory (Hugo-generated)
- Edit theme files directly in themes/ directory
- Use `draft = true` for content that should be published
- Forget to add new images to .gitignore if they should be tracked
- Delete .git/ directory or .gitmodules file

## ğŸ” TROUBLESHOOTING

### Hugo Build Fails
```bash
# Check Hugo version
hugo version

# Check configuration
hugo config

# Check content
hugo list all

# Build with verbose output
hugo --verbose
```

### Images Not Loading
1. Verify file exists in static/ or assets/ directory
2. Check path in front matter matches actual file location
3. Use absolute paths starting with `/`
4. Test locally with `hugo server`

### Language Switching Not Working
1. Verify hugo.toml has language configuration
2. Check defaultContentLanguageInSubdir = true
3. Ensure content exists in both languages if needed
4. Test both /zh/ and /en/ URLs locally

## ğŸ“‹ CONTENT WORKFLOW

### 1. Plan Content
- Determine content type (post, project, gadget, timeline)
- Plan front matter fields needed
- Prepare images if required

### 2. Create Content
```bash
hugo new [type]/filename.md
```

### 3. Edit Content
- Add proper front matter
- Write content in Markdown
- Add images using correct paths

### 4. Test Locally
```bash
hugo server --buildDrafts
```
- Visit http://localhost:1313
- Verify content displays correctly
- Test all features (language switching, links, images)

### 5. Deploy
```bash
git add .
git commit -m "Add: [content type] [title]"
git push origin main
```

## ğŸš€ DEPLOYMENT

### Automatic Deployment (Cloudflare Pages)
- Changes pushed to GitHub automatically trigger deployment
- Site builds with `hugo --gc --minify`
- Deployment completes within 2-3 minutes
- Access site at https://rpai.work

### Manual Deployment (if needed)
```bash
# Build site
hugo --gc --minify

# Output goes to public/ directory
# Upload public/ contents to hosting provider
```

## ğŸ“ EMERGENCY PROCEDURES

### Site Down
1. Check Cloudflare Pages status
2. Verify recent deployments in GitHub Actions
3. Check DNS records for rpai.work
4. Test locally with `hugo server`

### Content Disappeared
1. Check if `draft = true` in front matter
2. Verify file exists in content/ directory
3. Check Git status: `git status`
4. Review recent commits for accidental deletions

### Theme Broken
1. Check Git submodule status: `git submodule status`
2. Update theme: `git submodule update --remote --merge`
3. Verify theme files exist in themes/ directory
4. Rebuild: `hugo --gc --minify`

## ğŸ¯ QUICK REFERENCE

### Common Content Types
- **Blog Post**: `hugo new posts/title.md`
- **Project**: `hugo new projects/title.md`
- **Gadget**: `hugo new gadget/title.md`
- **Timeline**: `hugo new timeline/YYYY-MM-DD-title.md`

### Essential Commands
- `hugo server` - Local development
- `hugo --gc --minify` - Production build
- `git add . && git commit -m "msg" && git push` - Deploy

### Key Files
- `hugo.toml` - Main configuration
- `content/` - All content
- `static/images/profile.jpg` - Profile image
- `.gitignore` - Files to ignore in Git

---

**âš¡ IMPORTANT**: Always test locally before deploying. This blog represents Leo's professional presence - maintain high quality standards in all content and functionality.

**ğŸ¯ GOAL**: Create a professional, engaging, and well-maintained technical blog that showcases Leo's expertise and grows over time.